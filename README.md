# Catalog service

## Prerequisites
### Docker
Docker / docker compose installed https://www.docker.com/
Docker setup during the installation to use WSL2
Docker setup to Linux containers

### Database
SqlServer / SqlServer express which listens on port 49172 (can also listen on default 1433 but connection strings must be changed) with login created

Database created with allowed remote connections and with login -> user added with correct permissions (by default db name should be Eshop, but if is different, the connection string must be changed! and the user name and login must be put in the connection string!)

##### The connection from container to SQL is based on WSL so the ip address of the sql server can be found in the cmd -> ipconfig -> find ethernet adapter vEthernet(WSl) IPV4

##### connection string is based on this wsl ipv4 and db allowed port

### App
Is containerized -> Catalog service listens on ports 54272:80 and 54271:443 (choose the encrypted one) , internally in docker network the service listens on 80 and 443
example: https://localhost:54271/swagger/index.html

After setting up the sql server and database with logins, users and permissions, the app will apply the migrations and seeds

The APIs can be tested and called for example via https://www.postman.com/
The postman collection is part of this repository

### Unit Tests
Are pare part of the sln. Xunit was used
Can be run via unit tests window in visual studio.

In the child classes constructors is flag which indicates whether to use mocked data or data from database -> there is appsettings.json file which provides CS to the database

### Swagger
There are versions V1 and V2 of the api
The examples and labes of the dtos and properties are based on xml documentation - generated by vs during builds